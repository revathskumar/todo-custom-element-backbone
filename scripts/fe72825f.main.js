window.TodoCustomElement={Models:{},Collections:{},Views:{},Routers:{},init:function(){"use strict";console.log("Hello from Backbone!"),window.TodoCustomElement.todos=new TodoCustomElement.Collections.Todos;new TodoCustomElement.Views.App({el:$("todo-app")});TodoCustomElement.todos.fetch()}},$(document).ready(function(){"use strict";TodoCustomElement.init()}),this.JST=this.JST||{},TodoCustomElement.Models=TodoCustomElement.Models||{},function(){"use strict";TodoCustomElement.Models.Todo=Backbone.Model.extend({localStorage:new Store("todos-backbone"),defaults:{todo:"",done:!1},validate:function(){},parse:function(a){return a}})}(),TodoCustomElement.Collections=TodoCustomElement.Collections||{},function(){"use strict";TodoCustomElement.Collections.Todos=Backbone.Collection.extend({model:TodoCustomElement.Models.Todo,localStorage:new Store("todos-backbone")})}(),TodoCustomElement.Views=TodoCustomElement.Views||{},function(){"use strict";TodoCustomElement.Views.Todo=Backbone.View.extend({tagName:"todo-item","delete":function(){this.model.destroy()},initialize:function(){this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"change",this.render),this.el.addEventListener("itemchange",this.itemchange.bind(this)),this.el.addEventListener("remove",this.delete.bind(this))},itemchange:function(a){this.model.set("done",a.detail.done),this.model.save()},render:function(){return this.$el.html(this.model.get("todo")),this.model.get("done")&&this.$el.attr("done",""),this}})}(),TodoCustomElement.Views=TodoCustomElement.Views||{},function(){"use strict";TodoCustomElement.Views.App=Backbone.View.extend({tagName:"todo-app",events:{"keypress input":"createOnEnter"},initialize:function(){this.listenTo(TodoCustomElement.todos,"add",this.add)},add:function(a){var b=new TodoCustomElement.Views.Todo({model:a});this.$el.append(b.render().el)},createOnEnter:function(a){console.log("keypress"),this.$input=$(a.target),13===a.which&&this.$input.val().trim()&&(TodoCustomElement.todos.create({todo:this.$input.val(),done:!1}),this.$input.val(""))}})}();